<div class="app-topic-panel">
  <div class="full-height full-image-div" *ngIf="type === 'video'">
    <div class="topic-author" *ngIf="panel && panel.author">
      <span>{{panel.author.name || panel.author.email}}</span>
      <ion-icon name="checkmark-circle-outline" *ngIf="panel.author.verified"></ion-icon>
    </div>

    <vg-player class="full-video" (onPlayerReady)="onPlayerReady($event)">
      <vg-buffering></vg-buffering>
      <vg-scrub-bar>
        <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
        <vg-scrub-bar-buffering-time></vg-scrub-bar-buffering-time>
      </vg-scrub-bar>

      <video [vgMedia]="media" #media preload="auto" autoplay muted>
        <source [src]="panel.video" type="video/mp4">
      </video>
    </vg-player>
  </div>

  <div class="full-height" *ngIf="type === 'text'">
    <ion-img *ngIf="panel.image" [src]="panel.image" class="top-image"></ion-img>

    <!--
    <h1 class="news-title" *ngIf="panel.title">
      {{item.title}}
    </h1>
    -->

    <p [innerHTML]="panel.text" class="news-text">
    </p>
  </div>

  <div class="full-height panel-quiz" *ngIf="type === 'quiz' && !isLoading">
    <h1 i18n>QUIZ</h1>
    <h2>{{quiz.question}}</h2>
    <h3>{{quiz.content}}</h3>
    <div class="quiz-buttons">
      <ion-button *ngFor="let choice of quiz.choices" [ngClass]="'quiz-button-' + choice.color" (click)="vote(choice._id)">
        {{choice.text}}
        <span *ngIf="quizChoice && quizChoice === choice._id">(Choosen)</span>
      </ion-button>
    </div>
  </div>
</div>
